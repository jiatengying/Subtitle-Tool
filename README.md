# 字幕分割工具

一个简单易用的字幕文件分割、合并和对比工具，支持SRT和ASS格式字幕文件。

![版本](https://img.shields.io/badge/版本-1.0-blue)
![Python](https://img.shields.io/badge/Python-3.6+-green)

## ✨ 主要功能

### 🔪 字幕分割
- **按行数分割**：将字幕文件按指定行数分割成多个文件
- **智能模式**：根据文件大小自动计算最佳分割参数
- **批量处理**：一次性处理多个字幕文件
- **格式支持**：完美支持SRT和ASS格式(理论上支持其他格式字幕)

### 🔗 字幕合并
- **多文件合并**：将多个字幕文件按顺序合并为一个
- **格式保持**：保持原始字幕格式和样式
- **顺序调整**：支持调整合并顺序

### 🔍 文本对比
- **逐字符对比**：精确显示两个文本的差异
- **高亮显示**：不同字符用不同颜色标记
- **同步滚动**：两个文本窗口同步滚动

## 🚀 快速开始

### 系统要求
- Windows 7/10/11、macOS 10.12+ 或 Linux
- Python 3.6 或更高版本

### 安装运行

1. **下载项目**
   ```bash
   # 下载或克隆项目到本地
   git clone [项目地址]
   cd 字幕分割
   ```

2. **运行程序**
   ```bash
   python main.py
   ```

3. **开始使用**
   - 程序启动后会显示主界面
   - 选择需要的功能（分割、合并或对比）
   - 按照界面提示操作即可

## 📖 使用指南

### 字幕分割

#### 单文件分割
1. 点击侧边栏的 **"✂️ 分割字幕"**
2. 点击 **"📂 选择文件"** 选择要分割的字幕文件
3. 在 **"参数设置"** 区域配置分割参数：
   - **统一模式**：所有文件使用统一的配置进行分割
   - **智能模式**：系统根据用户要求数量进行分割
4. 点击 **"🔍 预览分割"** 查看分割效果
5. 点击 **"⚡ 执行分割"** 开始分割

#### 批量分割
1. 点击 **"📁 批量选择"** 选择多个字幕文件
2. 配置分割参数（同上）
3. 点击 **"⚡ 批量执行"** 开始批量处理

#### 分割参数说明
- **每文件行数**：每个分割文件包含的行数
- **分割数量**：要分割成多少个文件
- **智能模式**：系统自动计算每份的行数，确保分割均匀

### 字幕合并

1. 点击侧边栏的 **"🔗 合并字幕"**
2. 点击 **"📂 添加文件"** 选择要合并的字幕文件
3. 在文件列表中调整合并顺序（使用 **"⬆️ 上移"** 按钮）
4. 设置输出文件名和格式
5. 点击 **"🔍 预览合并"** 查看合并效果
6. 点击 **"🚀 开始合并"** 执行合并

### 文本对比

1. 点击侧边栏的 **"🔍 文本对比"**
2. 在左侧文本框输入或粘贴第一个文本
3. 在右侧文本框输入或粘贴第二个文本
4. 点击 **"🔄 开始对比"** 查看差异
5. 使用 **"📁 加载文件"** 可以从文件加载文本

#### 对比结果说明
- **红色背景**：在第一个文本中删除的内容
- **绿色背景**：在第二个文本中新增的内容
- **黄色背景**：两个文本中不同的内容
- **白色背景**：相同的内容

## 📁 支持的文件格式

### SRT格式
```
1
00:00:01,000 --> 00:00:04,000
这是第一行字幕

2
00:00:05,000 --> 00:00:08,000
这是第二行字幕
```

### ASS格式
```
[Script Info]
Title: 字幕文件

[V4+ Styles]
Format: Name, Fontname, Fontsize, PrimaryColour, SecondaryColour, OutlineColour, BackColour, Bold, Italic, Underline, StrikeOut, ScaleX, ScaleY, Spacing, Angle, BorderStyle, Outline, Shadow, Alignment, MarginL, MarginR, MarginV, Encoding
Style: Default,Arial,20,&H00FFFFFF,&H000000FF,&H00000000,&H80000000,0,0,0,0,100,100,0,0,1,2,2,2,10,10,10,1

[Events]
Format: Layer, Start, End, Style, Name, MarginL, MarginR, MarginV, Effect, Text
Dialogue: 0,0:00:01.00,0:00:04.00,Default,,0,0,0,,这是第一行字幕
```

## ⚙️ 高级功能

### 批量处理模式

#### 统一模式
- 所有文件使用相同的分割参数
- 适合处理格式相似的字幕文件
- 参数设置简单直观

#### 智能模式
- 系统根据每个文件的行数自动计算分割参数
- 确保每个分割文件大小相近
- 适合处理大小差异较大的文件

### 文件信息显示
- **文件名**：当前处理的文件名称
- **格式**：SRT或ASS格式
- **行数**：文件总行数
- **时长**：字幕总时长
- **时间范围**：开始和结束时间
- **文件大小**：文件大小（KB）

## 🔧 常见问题

### Q: 程序无法启动怎么办？
A: 请确保已安装Python 3.6或更高版本，并且支持tkinter库。

### Q: 分割后的文件在哪里？
A: 分割后的文件会保存在程序运行目录下，文件名格式为：`原文件名_分割1.srt`、`原文件名_分割2.srt`等。

### Q: 支持哪些字幕格式？
A: 目前支持SRT和ASS格式，这是最常用的两种字幕格式。

### Q: 可以处理多大的文件？
A: 理论上没有限制，但建议单个文件不超过100MB以确保处理速度。

### Q: 分割后字幕时间轴会改变吗？
A: 不会，分割只是将字幕内容分开，时间轴保持原样。

### Q: 合并时文件顺序重要吗？
A: 是的，合并会按照您选择的顺序进行，请确保顺序正确。

## 📊 性能说明

- **处理速度**：小文件（<1MB）几乎瞬间完成
- **内存使用**：程序内存占用很小，通常<50MB
- **文件大小**：支持处理几MB到几十MB的字幕文件
- **并发处理**：批量处理时按顺序处理，避免系统负载过高

## 🎯 使用技巧

### 分割技巧
1. **合理设置行数**：建议每份100-500行，既不会太小也不会太大
2. **使用智能模式**：对于大小不一的文件，智能模式效果更好
3. **预览后再执行**：执行前先预览，确认分割效果符合预期

### 合并技巧
1. **检查文件顺序**：合并前确认文件顺序正确
2. **统一格式**：建议合并相同格式的文件
3. **备份原文件**：合并前备份原始文件

### 对比技巧
1. **逐字符对比**：可以精确看到每个字符的差异
2. **同步滚动**：两个窗口会同步滚动，方便对比
3. **文件加载**：可以直接从文件加载文本进行对比

## 📝 更新日志

### v1.0 
- ✨ 新增字幕分割功能
- ✨ 新增字幕合并功能
- ✨ 新增文本对比功能
- ✨ 支持SRT和ASS格式
- ✨ 支持批量处理
- ✨ 智能分割模式
- ✨ 现代化界面设计
  
### v1.01 (当前版本)
-对文本对比的逻辑进行优化

## 🤝 贡献

欢迎提交问题和建议！

- 发现问题？请提交Issue
- 有改进建议？欢迎Pull Request
- 使用体验？欢迎分享反馈

**享受使用字幕分割工具！** 🎉

如果这个工具对您有帮助，请给个⭐️支持一下！
